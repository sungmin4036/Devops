

ㅁ 인프라 구성 요소

인프라를 이루는 구성 요소들은 다음과 같습니다.

- 하드웨어(Hardware, HW): 서버 장비 본체나 데이터를 저장하기 위한 스토리지, 전원 장치 등입니다.

-  넓은 의미에서는 이런 하드웨어를 설치하는 데이터 센터의 설비(건물, 공조, 보안 설비, 소화 설비 등)도 포함됩니다.
  
- 네트워크(Network) : 사용자가 원격으로 접근할 수 있도록 서버를 연결하는 도구들입니다. 
  
- 라우터, 스위치, 방화벽 등 네트워크 장비와 이를 연결하는 케이블 배선 등이 있습니다. 

 사용자가 단말에서 무선으로 연결할 때 필요한 액세스 포인트(Access Point, AP)도 있습니다.

- 운영체제(Operating System, OS) : 하드웨어와 네트워크 장비를 제어하기 위한 기본적인 소프트웨어입니다.  리소스나 프로세스를 관리합니다.

- 클라이언트 OS : 사용자가 사용하기 쉽도록 하는데 초점을 맞추고 있습니다(Windows, macOS 등).

- 서버 OS : 시스템을 빠르고 안정적으로 실행하는데 초점을 맞추고 있습니다(Linux, Unix, Windows Server 등).

- 미들웨어(middleware) : 서버 상에서 서버가 특정 역할을 하도록 기능을 제공하는 소프트웨어입니다.


<br>

ㅁ 온프레미스 On-premises

온프레미스는 데이터 센터나 서버실에 서버를 두고 직접 관리하는 방식입니다.

전통적이고 지금도 널리 사용되는 방식이죠. 집에 개인적으로 NAS나 서브 PC로 작은 서버를 돌리는 분들도 있는데 이런 것도 온프레미스라고 볼 수 있습니다.

이런 환경에서는 서버, 네트워크 장비, OS, 스토리지, 각종 솔루션 등을 직접 사서 설치하고 관리해야 했습니다. 

물론 직접 관리하는 것의 장점도 있습니다. 하지만 이런 장비들은 상당히 고가이기 때문에 

초기 투자 비용이 크고 이후 사용 예측량을 가늠하기가 힘들며 한번 구축해놓으면 사용량이 적어도 유지 비용은 그대로 나간다는 단점이 있습니다.

<br>

ㅁ 퍼블릭 클라우드 Public Cloud

인터넷을 통해 불특정 다수에게 서비스 형태로 제공되는 시스템입니다.

AWS(Amazon Web Service), Microsoft Azure, GCP(Google Cloud Platform) 등 클라우드 프로바이더가(제공자)가 데이터 센터와 인프라를 보유하고 있습니다.

서비스 형태라는 건 사용자는 원하는 옵션을 선택하고 사용한만큼 비용을 지불하면 된다는 걸 말합니다. 

제공하는 서비스에 따라 IaaS, PaaS, SaaS 등으로 나눌 수 있습니다. 

이 중 IaaS는 원하는 사양의 가상 머신이나 스토리지를 선택하고 이용한 시간이나 데이터 양에 따라 비용을 지불합니다.

<br>

ㅁ 프라이빗 클라우드 Private Cloud

퍼블릭 클라우드에서 이용자를 한정한 형태입니다.

예를 들면 기업 내 서비스와 같은 것으로 보안이 좋고 독자적인 기능이나 서비스를 추가하기 쉽습니다.




- 클라우드가 유리한 경우
  
회사 직원용 시스템(근태 관리, 회계, 인사 등)은 사용자가 한정되어 있고 트래픽을 예측하기가 쉬워 온프레미스도 큰 문제가 없습니다.

하지만 대외 서비스의 경우 트래픽을 예상하기가 쉽지 않습니다.

이렇게 트래픽 양에 따라 서버 사양이나 네트워크 대역을 가늠하는 것을 사이징(sizing)이라고 하는데 상당히 어려운 작업입니다.

크게 잡으면 낭비가 되고 적게 잡으면 단기간에 증설하기가 어렵기 때문입니다.

이렇게 트래픽의 변동이 많은 시스템은 클라우드 시스템이 유리합니다. 

클라우드 시스템에서는 트래픽에 따라 자동으로 증설해주는 오토스케일링(Auto Scaling)이 있어 유리합니다.

또한 클라우드의 데이터센터는 전 세계에 퍼져 있기 때문에 자연 재해로 인해 데이터 시스템이 다운되더라도 다른 곳에서 시스템을 계속 운영할 수 있습니다. 

그리고 빨리 서비스를 제공해야 하는 시스템이나 PoC(Proof of Concept)도 클라우드가 용이하며 

초기 투자금이 적은 스타트업이나 개인 개발자도 클라우드가 유리합니다.


<br>
<br>

- 온프레미스가 유리한 경우

하지만 항상 클라우드가 좋은 것은 아닙니다.

무조건 클라우드가 좋으니까 옮기자!가 아니라 상황에 온프레미스가 맞는 경우도 있으니 제대로 검토해야 합니다.

온프레미스와 클라우드는 모두 가용성을 보장합니다만 개념에서 차이가 있습니다.

온프레미스는 서버가 죽지 않는 것을 목표로 합니다.

반면 클라우드는 많은 인스턴스로 이루어진 분산 환경에서 인스턴스가 죽으면 다른 인스턴스가 빠르게 대체하는 것을 의미합니다.

즉 그냥 클라우드를 사용한다고 해서 가용성이 보장되는 것이 아니라, 가용성을 높이도록 직접 설계해야 합니다.

따라서 잠시라도 끊어져서는 안되는 시스템이나 클라우드 업체가 보장하는 것 이상의 가용성이 필요한 시스템에서는 온프레미스가 유리합니다.

또한 기밀성이 높은 데이터의 경우에도 온프레미스가 유리합니다.

물론 자사의 보안보다 클라우드 프로바이더가 제공하는 보안이 더 좋을 수 있습니다만 물리적인 저장 장소를 명확히 알 필요가 있을 때는 온프레미스가 유리합니다. 

또한 멀티 클라우드를 사용한다면 각 클라우드 프로바이더마다 보안 정책이 다르기 때문에 보안 표준을 구축하기 어렵습니다.

이 외에도 특정 유료 솔루션을 사용하는 경우나 클라우드가 지원하지 않는 특수한 플랫폼을 사용하는 경우에는 클라우드를 이용할 수가 없습니다.


<br>
<br>


- 하이브리드 클라우드 Hybrid Cloud

각자 장단점이 있기 때문에 온프레미스와 클라우드를 함께 사용하기도 합니다. 

각 시스템의 특성에 맞게 온프레미스와 클라우드를 함께 사용하는 것입니다.

또한 클라우드 프로바이더들도 각자의 장점이 달라서 여러 클라우드를 함께 사용하기도 합니다.

이를 결정할 때는 특성을 잘 파악하고 있어야 하며 선택의 기준이 명확해야 합니다.




ㅁ 인프라 구성 관리 툴

- Bootstrapping : OS 시작을 자동화

    :서버 OS 를 설치, 가상 환경 설정, 네트워크 구성 설정 등
    
    ex) Vagrant

- Configuration : OS 나 미들웨어의 설정을 자동화
    
    : OS 설정, 각종 미들웨어 설치 및 설정

    ex) Ansible, Chef, Puppet

- Orchestration : 여러 서버 관리를 자동화

    ex) Kubernetes : 컨테이너 오케스트레이션의 사실 상 표준(de facto standrad). 줄여서 k8s 라고도 부름.




클라우드란 용어가 워낙 다양하게 사용되고 있지만, 앞으로 해당 포스팅에서 이야기하는 클라우드란 '클라우드 컴퓨팅'을 의미합니다.

클라우드 컴퓨팅을 간단희 정의하자면 네트워크를 활용해 IT자원을 필요한 때 필요한 만큼 사용하고

사용한 만큼 비용을 지불하는 새로운 IT자원 활용 방식이라고 이야기할 수 있습니다.

1.2 특성

위 그림을 보면서 클라우드가 가진 5개 특성에 대해서 간략히 설명드리겠습니다.

 1) 필요에 따라 사용하는 셀프 서비스
 
 - 필요한 자원이 얼마가 되었든 정해진 만큼 미리 구입해야 하는 기존 물리적 컴퓨팅과는 달리, 클라우드 컴퓨팅은 사용자가 필요로 할 때 필요한 만큼만 사용이 가능합니다. 또한 뷔페처럼 필요한 것을 필요한 만큼 골라서 사용할 수 있는 셀프 서비스가 가능해야 합니다.

 2) 물리적 위치에 구애받지 않는 리소스 풀링(resource pooling)
 
 - 분산되어 있는 여러 IT리소스를 연결하고, 이를 가상화해서 사용합니다. 따라서 실제 IT리소스가 어디에 위치했는지는 더 이상 중요하지 않게 됩니다. 또한 리소스 풀링을 통해 보다 효율적인 리소스 활용이 가능해집니다.

 3) 광대역 네트워크 연결
 
 - (2)번 특성과 연결되는 부분인데요, 물리적으로 분산된 IT리소스를 논리적으로 연결해 사용하므로 서비스 공급자와 소비자 모두 네트워크로 연결되어 있어야 합니다.

4) 신속한 탄력성
 
 - 필요한 만큼 사용량을 조절하는 데 있어서 사용자에 요구에 맞춰 신속하게 확장되거나 축소됩니다.

5) 측정가능한 서비스
 
 - 사용한 만큼 과금되므로 사용자가 사용 중인 리소스를 정확하게 측정할 수 있어야 합니다.

![image](https://user-images.githubusercontent.com/62640332/150370537-d3e1aede-d56c-4474-9966-bf6bcf811ea4.png)


클라우드 배포 모델은 위와 같이 크게 3개로 나눌 수 있습니다.

기업 외부에 있는 CSP의 자원을 사용하는 퍼블릭, 기업 내부에서 클라우드 환경을 구축하여 사용하는 프라이빗, 그리고 퍼블릭과 프라이빗을 모두 사용하는 하이브리드입니다.