- 쿠버네티스(Kubernetes)는 Linux 컨테이너 작업을 자동화하는 오픈소스 플랫폼, 이 플랫폼에서는 컨테이너화된 애플리케이션을 배포하고 확장하는 데 수동 프로세스가 필요하지 않습니다. 쿠버네티스를 통해 물리 서버 또는 가상 머신의 클러스터에서 컨테이너를 예약하고 실행할 수 있는 플랫폼을 제공하며, 쿠버네티스 아키텍처는 상호 연계된 구성 요소로 클러스터를 나누어 클러스터를 정의된 상태로 유지


실제 프로덕션 애플리케이션은 여러 컨테이너에 걸쳐 있으며 이러한 컨테이너는 여러 서버 호스트에 배포되어야 합니다. 

컨테이너를 위한 보안은 멀티레이어 구조이며 복잡할 수 있습니다.  바로 여기에 쿠버네티스가 사용됩니다. 

쿠버네티스는 이러한 워크로드를 위해 규모에 맞는 컨테이너를 배포하는 데 필요한 오케스트레이션 및 관리 기능을 제공합니다.

 쿠버네티스 오케스트레이션을 사용하면 여러 컨테이너에 걸쳐 애플리케이션 서비스를 구축하고 클러스터 전체에서 컨테이너의 일정을 계획하고 이러한 컨테이너를 확장하여 컨테이너의 상태를 지속적으로 관리할 수 있습니다. 
 
 쿠버네티스를 활용하면 IT 보안을 한층 강화할 수 있습니다.

 ![image](https://user-images.githubusercontent.com/62640332/148711179-d1b399ee-7275-4ecd-9fb8-2e78b19c15c6.png)





Linux 컨테이너를 사용하는 가장 기본적인 방식은 컨테이너를 효율적이고 빠른 가상 머신으로 다루는 것

이를 프로덕션 환경과 여러 애플리케이션으로 확장하고 나면 개별 서비스를 제공하기 위해 같은 위치에 배치된 여러 개의 컨테이너를 함께 사용해야 한다는 것을 분명히 알 수 있습니다.

따라서 환경에서 컨테이너 수가 크게 증가하며 컨테이너가 누적됨에 따라 복잡성도 증가


쿠버네티스는 컨테이너를 "포드(pod)"로 분류하여  컨테이너 급증과 관련된 여러 가지 문제를 해결합니다. 

포드는 그룹화된 컨테이너에 추상화 계층을 추가하므로 사용자가 워크로드를 예약하고 네트워킹 및 저장소와 같은 필수 서비스를 컨테이너에 제공할 수 있습니다.

 쿠버네티스의 또 다른 부분을 사용해 이러한 포드 전체에서 부하를 분산하고 적합한 수의 컨테이너를 실행하여 워크로드를 지원할 수 있습니다.



ㅁ 쿠버네티스 주요 이점은

 1. 특히 클라우드를 위한 애플리케이션 개발을 최적화하는 중인 경우, 쿠버네티스를 통해 물리 또는 가상 머신의 클러스트에서 컨테이너를 예약하고 실행할 수 있는 플랫폼이 확보
 
 -> 더 넓게 보면, 프로덕션 환경에 컨테이너 기반 인프라를 완전히 구현해서 사용할 수 있습니다.

2. 버네티스는 운영 작업 자동화와 관련이 있으므로 다른 애플리케이션 플랫폼 또는 관리 시스템에서 가능한 작업의 상당수를 컨테이너를 사용해 수행할 수 있습니다.


ㅁ 쿠버네티스 수행 가능한 작업

1. 여러 호스트에 걸쳐 컨테이너를 오케스트레이션합니다.

2. 하드웨어를 최대한 활용하여 엔터프라이즈 애플리케이션을 실행하는 데 필요한 리소스를 극대화합니다.

3. 애플리케이션 배포 및 업데이트를 제어하고 자동화합니다.

4. 스토리지를 장착 및 추가해 스테이트풀(stateful) 애플리케이션을 실행합니다.

5. 컨테이너화된 애플리케이션과 해당 리소스를 즉시 확장합니다.

6. 선언적으로(Declaratively) 서비스를 관리함으로써, 배포한 애플리케이션이 항상 배포 목적대로 실행되도록 합니다.

7. 자동 배치, 자동 재시작, 자동 복제, 자동 확장을 사용해 애플리케이션 상태 확인과 셀프 복구를 수행합니다.


ㅁ 쿠버네티스 기술 용어

- 마스터: 쿠버네티스 노드를 제어하는 머신입니다. 여기에서 모든 태스크 할당이 시작됩니다.

- 노드: 할당된 태스크를 요청대로 수행하는 시스템입니다. 쿠버네티스 마스터가 이러한 노드를 제어합니다.

- 포드: 단일 노드에 배포된 하나 이상의 컨테이너 그룹입니다. 포드에 있는 모든 컨테이너는 IP 주소, IPC, 호스트 이름, 기타 리소스를 공유하며 포드는 기본 컨테이너에서 네트워크와 스토리지를 추상화합니다 이렇게 하면 클러스터에서 컨테이너를 더 쉽게 이동할 수 있습니다.

- 복제 컨트롤러:  이 컨트롤러는 클러스터에서 실행되어야 하는 동일한 포드 사본의 개수를 제어합니다.

- 서비스: 포드에서 작업 정의를 분리합니다 쿠버네티스 서비스 프록시는 클러스터에서 다른 위치로 이동한 경우든 교체된 경우든 서비스 요청을 적절한 포드로 자동 수신합니다.

- Kubelet: 이 서비스는 노드에서 실행되며 컨테이너 매니페스트를 읽고, 정의된 컨테이너가 시작되어 실행 중인지 확인합니다

- kubectl: 쿠버네티스의 명령줄 설정 툴입니다.

![image](https://user-images.githubusercontent.com/62640332/148711526-e7513127-ce05-4405-a5dc-494575d7ba87.png)


쿠버네티스는 운영 체제를 기반으로 실행.

 노드에서 실행되는 컨테이너의 포드와 상호작용합니다.

 쿠버네티스 마스터는 관리자(또는 DevOps팀)으로부터 명령을 전달받고 해당 지침을 하위 노드에 이어서 전달합니다.

 이 핸드오프는 여러 서비스와 연계하여 태스크에 가장 적합한 노드를 자동으로 결정합니다 그 후 리소스를 할당하고 해당 노드에 포드를 지정하여 요청된 작업을 수행합니다.

 